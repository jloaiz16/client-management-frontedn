<div class="container">
  <div class="col-12">
    <h1>{{ isEditing ? "Edit Client" : "Create Client" }}</h1>
  </div>
  <ul class="col-12 pl-1 alert alert-danger" *ngIf="errors?.length > 0">
    <li *ngFor="let error of errors">
      {{ error }}
    </li>
  </ul>
  <form [formGroup]="clientForm" *ngIf="loadForm">
    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Type a name"
      />
    </div>
    <div
      class="col-12 mt-1 mb-2 alert alert-danger"
      *ngIf="
        clientForm.controls.name.errors && clientForm.controls.name.touched
      "
    >
      <span
        class="label-message"
        *ngIf="clientForm.controls.name.errors.minlength"
        >Name should have more than 4 digit</span
      >
      <span
        class="label-message"
        *ngIf="clientForm.controls.name.errors.required"
        >Name is required</span
      >
    </div>
    <div class="form-group">
      <label>Last Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="lastName"
        placeholder="Type a last name"
      />
    </div>
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        class="form-control"
        formControlName="email"
        placeholder="Type an email"
      />
    </div>
    <div
      class="col-12 mt-1 mb-2 alert alert-danger"
      *ngIf="
        clientForm.controls.email.errors && clientForm.controls.email.touched
      "
    >
      <span class="label-message" *ngIf="clientForm.controls.email.errors.email"
        >Type a valid email</span
      >
      <span
        class="label-message"
        *ngIf="clientForm.controls.email.errors.required"
        >Email is required</span
      >
    </div>
    <div class="form-group">
      <label>Date</label>
      <input
        type="date"
        class="form-control"
        formControlName="createAt"
        placeholder="Type a name"
      />
    </div>
    <div
      class="col-12 mt-1 mb-2 alert alert-danger"
      *ngIf="
        clientForm.controls.createAt.errors &&
        clientForm.controls.createAt.touched
      "
    >
      <span class="label-message">Name is required</span>
    </div>
    <div class="form-group">
      <button
        *ngIf="isEditing"
        class="btn btn-primary"
        role="button"
        (click)="updateClient()"
        [disabled]="!clientForm.valid"
      >
        Update
      </button>
      <button
        *ngIf="!isEditing"
        class="btn btn-primary"
        role="button"
        (click)="createClient()"
        [disabled]="!clientForm.valid"
      >
        Create
      </button>
    </div>
  </form>
</div>
